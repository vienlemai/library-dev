//console.log(tinymce);
tinymce.PluginManager.add('iupload', function(editor, url) {
//	// Add a button that opens a window
//	editor.addButton('iupload', {
//		text: 'iUpload',
//		icon: false,
//		onclick: function() {
//			// Open window
//			editor.windowManager.open({
//				title: 'iUpload',
//				file: url + '/photo-dialog.html',
//				onsubmit: function(e) {
//					// Insert content when the window form is submitted
//					//editor.insertContent('Title: ' + e.data.title);
//				}
//			});
//		}
//	});

	// Adds a menu item to the tools menu
	editor.addMenuItem('iuploadPhoto', {
		text: 'Photo',
		context: 'insert',
		onclick: function() {
			// Open window
			editor.windowManager.open({
				title: 'Upload Photo',
				file: url + '/photo-dialog.html',
				onsubmit: function(e) {
					// Insert content when the window form is submitted
					//editor.insertContent('Title: ' + e.data.title);
				}
			});
		}
	});
	
	editor.addMenuItem('iuploadAudio', {
		text: 'Audio',
		context: 'insert',
		onclick: function() {
			// Open window
			editor.windowManager.open({
				title: 'Upload Audio',
				file: url + '/audio-dialog.html',
				onsubmit: function(e) {
					// Insert content when the window form is submitted
					//editor.insertContent('Title: ' + e.data.title);
				}
			});
		}
	});
	
	editor.addMenuItem('iuploadVideo', {
		text: 'Video',
		context: 'insert',
		onclick: function() {
			// Open window
			editor.windowManager.open({
				title: 'Upload Video',
				file: url + '/video-dialog.html',
				onsubmit: function(e) {
					// Insert content when the window form is submitted
					//editor.insertContent('Title: ' + e.data.title);
				}
			});
		}
	});
});